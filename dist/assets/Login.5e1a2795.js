import{L as f}from"./Layout.7fe6aeda.js";import{r as i,j as e,a as c,L as b,u as g,e as x}from"./vendor.b5e3c5d1.js";import{A as y,L}from"./index.e1ae2df7.js";/* empty css                   */import{u as w}from"./useHttp.d84abd54.js";function S(l){const o=i.exports.useRef(),s=i.exports.useRef(),[a,r]=i.exports.useState(!1);return e("div",{className:"inputs-container",children:c("form",{className:"container inputs bg-dark-darkmode",onSubmit:t=>{t.preventDefault(),l.onSubmitForm(o.current.value,s.current.value,a)},children:[e("h4",{children:"Login to your account"}),e("label",{htmlFor:"email",children:"Email"}),e("input",{ref:o,type:"email",id:"email",placeholder:"email"}),e("label",{htmlFor:"password",children:"Password"}),e("input",{ref:s,type:"password",className:"mb-0",id:"password",placeholder:"password"}),e("a",{href:"/#",children:"Forget your password?"}),c("div",{className:"checkbox-container",children:[e("input",{type:"checkbox",checked:a,onChange:()=>{r(t=>!t)}}),e("span",{className:"main-txt-clr",children:"Remeber me"})]}),e("button",{className:"main-btn",children:"Login"}),e(b,{to:"/signup",children:"sign up instead ?"})]})})}let d=!1;function F(){const l=i.exports.useContext(y),{isLoading:o,error:s,sendRequest:a}=w(),r=g(),m=x(),u=n=>{d&&r.removeAll(),l.login(n.token,n.userId,n.username),m.push("/")},t=(n,p,h)=>{a({url:"https://www.scraspy.com/auth/login",method:"POST",headers:{"Content-Type":"application/json"},body:{email:n,password:p,rememberMe:h}},u)};return s&&(d&&r.removeAll(),r.show(s,{type:"error"}),d=!0),c(f,{children:[o&&e(L,{}),e(S,{onSubmitForm:t})]})}export{F as default};
