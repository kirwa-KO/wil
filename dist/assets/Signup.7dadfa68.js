import{L as f}from"./Layout.58f75559.js";/* empty css                   */import{r as u,j as e,a as m,L as h,l as b,u as g}from"./vendor.1f022085.js";import{u as S}from"./useHttp.14f3398b.js";import{L as y}from"./index.d96512d2.js";function j(o){const s=u.exports.useRef(),t=u.exports.useRef(),n=u.exports.useRef();return e("div",{className:"inputs-container",children:m("form",{className:"container inputs bg-dark-darkmode",onSubmit:a=>{a.preventDefault(),o.onSubmitForm(s.current.value,t.current.value,n.current.value)},children:[e("h4",{children:"Create your account"}),e("label",{htmlFor:"username",children:"Username"}),e("input",{ref:s,type:"text",id:"username",placeholder:"username"}),e("label",{htmlFor:"email",children:"Email"}),e("input",{ref:t,type:"email",id:"email",placeholder:"email"}),e("label",{htmlFor:"password",children:"Password"}),e("input",{ref:n,type:"password",id:"password",placeholder:"password"}),e("button",{className:"main-btn",children:"Sign up"}),e(h,{to:"/login",children:"login instead ?"})]})})}let l=!1;function R(){const{isLoading:o,error:s,sendRequest:t}=S(),n=b(),r=g(),a=i=>{l&&r.removeAll(),r.show(i.message,{type:"success",timeout:2e3}),n.push("/login")},p=(i,d,c)=>{t({url:"http://127.0.0.1:8080/auth/signup",method:"POST",headers:{"Content-Type":"application/json"},body:{username:i,email:d,password:c}},a)};return s&&(l&&r.removeAll(),r.show(s,{type:"error"}),l=!0),m(f,{children:[o&&e(y,{}),e(j,{onSubmitForm:p})]})}export{R as default};
