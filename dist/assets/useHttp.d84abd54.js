import{r as s,e as i}from"./vendor.b5e3c5d1.js";import{A as p}from"./index.e1ae2df7.js";const y=()=>{const[n,o]=s.exports.useState(!1),[d,r]=s.exports.useState(null),c=i(),h=s.exports.useContext(p),l=s.exports.useCallback(async(t,u)=>{o(!0),r(null);try{const e=await fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null}),a=await e.json();if(!e.ok)throw a;u(a)}catch(e){e.message=="jwt expired"?(h.logout(),c.push("/login")):r(e.message||"Something went wrong!")}o(!1)},[]);return{isLoading:n,error:d,sendRequest:l}};export{y as u};
