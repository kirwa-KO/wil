import{L as f}from"./Layout.58f75559.js";import{r as i,j as e,a as c,L as b,u as g,l as x}from"./vendor.1f022085.js";import{A as L,L as y}from"./index.d96512d2.js";/* empty css                   */import{u as S}from"./useHttp.14f3398b.js";function j(l){const o=i.exports.useRef(),r=i.exports.useRef(),[a,s]=i.exports.useState(!1);return e("div",{className:"inputs-container",children:c("form",{className:"container inputs bg-dark-darkmode",onSubmit:t=>{t.preventDefault(),l.onSubmitForm(o.current.value,r.current.value,a)},children:[e("h4",{children:"Login to your account"}),e("label",{htmlFor:"email",children:"Email"}),e("input",{ref:o,type:"email",id:"email",placeholder:"email"}),e("label",{htmlFor:"password",children:"Password"}),e("input",{ref:r,type:"password",className:"mb-0",id:"password",placeholder:"password"}),e("a",{href:"/#",children:"Forget your password?"}),c("div",{className:"checkbox-container",children:[e("input",{type:"checkbox",checked:a,onChange:()=>{s(t=>!t)}}),e("span",{className:"main-txt-clr",children:"Remeber me"})]}),e("button",{className:"main-btn",children:"Login"}),e(b,{to:"/signup",children:"sign up instead ?"})]})})}let u=!1;function F(){const l=i.exports.useContext(L),{isLoading:o,error:r,sendRequest:a}=S(),s=g(),m=x(),d=n=>{u&&s.removeAll(),l.login(n.token,n.userId,n.username),m.push("/")},t=(n,p,h)=>{a({url:"http://127.0.0.1:8080/auth/login",method:"POST",headers:{"Content-Type":"application/json"},body:{email:n,password:p,rememberMe:h}},d)};return r&&(u&&s.removeAll(),s.show(r,{type:"error"}),u=!0),c(f,{children:[o&&e(y,{}),e(j,{onSubmitForm:t})]})}export{F as default};
